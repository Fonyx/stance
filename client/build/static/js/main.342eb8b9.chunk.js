(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,n,t){},134:function(e,n,t){},139:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(101),s=t.n(r),i=(t(128),t(35)),o=t(116),l=t(176),j=t(178),u=t(174),b=t(114),d=t(50),m=t(19),h=t(179),p=t(183),O=t(184),x=t(186),g=t(187),v=t(185),f=t(107),w=t.n(f),y=t(3),k={fontFamily:"Saira",fontWeight:500};function S(){return Object(y.jsx)(p.a,{sx:{flexGrow:1},children:Object(y.jsx)(h.a,{position:"static",children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(v.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(y.jsx)(w.a,{})}),Object(y.jsx)(x.a,{variant:"h6",component:"div",sx:{flexGrow:1},style:k,children:"News"}),Object(y.jsx)(g.a,{color:"secondary",variant:"contained",children:"Login"})]})})})}var N=t(13),I=t(109),C=t.n(I),$=t(108),_=t.n($),T=t(110),F=t.n(T),U=t(188),Y=t(189);function D(){var e=Object(a.useState)("home"),n=Object(N.a)(e,2),t=n[0],c=n[1];return Object(y.jsxs)(U.a,{showLabels:!0,value:t,onChange:function(e,n){c(n)},children:[Object(y.jsx)(Y.a,{label:"Recents",icon:Object(y.jsx)(_.a,{})}),Object(y.jsx)(Y.a,{label:"Favorites",icon:Object(y.jsx)(C.a,{})}),Object(y.jsx)(Y.a,{label:"Nearby",icon:Object(y.jsx)(F.a,{})})]})}var L=t(182),z=t(190);function B(){return Object(y.jsx)(L.a,{container:!0,spacing:2,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"60vh"},children:Object(y.jsx)(L.a,{item:!0,xs:12,children:Object(y.jsxs)(z.a,{variant:"text","aria-label":"outlined primary button group",children:[Object(y.jsx)(g.a,{href:"/signup",children:"Sign Up"}),Object(y.jsx)(g.a,{href:"/signin",children:"Sign In"})]})})})}function E(e){return Object(y.jsx)("div",{children:Object(y.jsxs)("h2",{className:"card-header",children:[e.name,"'s friends have endorsed these skills..."]})})}var P,G,J=t(47),H=t(54),M=t(192),R=t(115),W=t(193),q=(t(134),t(26)),A=t(27),K=t(88),Q=new(function(){function e(){Object(q.a)(this,e),this.token_name="stance_user_token"}return Object(A.a)(e,[{key:"getProfile",value:function(){return Object(K.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(K.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem(this.token_name),!0)}},{key:"getToken",value:function(){return localStorage.getItem(this.token_name)}},{key:"login",value:function(e){localStorage.setItem(this.token_name,e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem(this.token_name),window.location.reload()}}]),e}()),V=t(51),X=t.n(V),Z=t(71),ee=t(7),ne=t(180),te=t(43),ae=t(175),ce=Object(ae.a)(P||(P=Object(te.a)(["\n    mutation signIn(\n        $email: String!\n        $password: String!\n    ){\n        signIn(\n            email: $email\n            password: $password\n        ){\n            token\n            user{\n            _id\n            username\n            email\n            password\n            }\n        }\n    }\n"]))),re=Object(ae.a)(G||(G=Object(te.a)(["\n    mutation signUp(\n        $username: String!\n        $email: String!\n        $password: String!\n    ){\n        signUp(\n        username: $username\n        email: $email\n        password: $password\n        ){\n        token\n        user{\n            _id\n            username\n            email\n            password\n        }\n        }\n    }\n"])));function se(){var e=Object(a.useState)({email:"",password:""}),n=Object(N.a)(e,2),t=n[0],c=n[1],r=Object(ne.a)(ce),s=Object(N.a)(r,2),o=s[0],l=s[1],j=l.error,u=l.data,b=function(e){var n=e.target,a=n.name,r=n.value;c(Object(i.a)(Object(i.a)({},t),{},Object(ee.a)({},a,r)))},m=function(){var e=Object(Z.a)(X.a.mark((function e(n){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t),e.prev=2,e.next=5,o({variables:Object(i.a)({},t)});case 5:a=e.sent,r=a.data,Q.login(r.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:c({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[u?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:t.email,onChange:b}),Object(y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:t.password,onChange:b}),Object(y.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),j&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})}var ie=function(){var e=Object(a.useState)({username:"",email:"",password:""}),n=Object(N.a)(e,2),t=n[0],c=n[1],r=Object(ne.a)(re),s=Object(N.a)(r,2),o=s[0],l=s[1],j=l.error,u=l.data,b=function(e){var n=e.target,a=n.name,r=n.value;c(Object(i.a)(Object(i.a)({},t),{},Object(ee.a)({},a,r)))},m=function(){var e=Object(Z.a)(X.a.mark((function e(n){var a,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t),e.prev=2,e.next=5,o({variables:Object(i.a)({},t)});case 5:a=e.sent,c=a.data,Q.login(c.signUp.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(y.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(y.jsx)("div",{className:"col-12 col-lg-10",children:Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(y.jsxs)("div",{className:"card-body",children:[u?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:t.name,onChange:b}),Object(y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:t.email,onChange:b}),Object(y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:t.password,onChange:b}),Object(y.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),j&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})]})})})},oe=Object(o.a)({uri:"/api"}),le=Object(b.a)((function(e,n){var t=n.headers,a=Q.getToken();return{headers:Object(i.a)(Object(i.a)({},t),{},{authorization:a?"Bearer ".concat(a):""})}})),je=new l.a({link:le.concat(oe),cache:new j.a}),ue=Object(R.a)({typography:{h6:{fontSize:36}},palette:{primary:{main:J.a[400]},secondary:{main:H.a[300]}}});var be=function(){return Object(y.jsx)(u.a,{client:je,children:Object(y.jsx)(M.a,{theme:ue,children:Object(y.jsxs)(d.a,{children:[Object(y.jsx)(S,{}),Object(y.jsxs)(W.a,{children:[Object(y.jsx)(m.a,{exact:!0,path:"/",children:Object(y.jsx)(B,{})}),Object(y.jsx)(m.a,{exact:!0,path:"/signin",children:Object(y.jsx)(se,{})}),Object(y.jsx)(m.a,{exact:!0,path:"/signup",children:Object(y.jsx)(ie,{})}),Object(y.jsx)(m.a,{exact:!0,path:"/me",children:Object(y.jsx)(E,{})}),Object(y.jsx)(m.a,{exact:!0,path:"/profiles/:username",children:Object(y.jsx)(E,{})})]}),Object(y.jsx)(D,{})]})})})},de=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,194)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(be,{})}),document.getElementById("root")),de()}},[[139,1,2]]]);
//# sourceMappingURL=main.342eb8b9.chunk.js.map